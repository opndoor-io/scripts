# VLESS + Reality (Xray-core)

[English](README.md) | **Русский**

Автоматическая установка VPN-сервера VLESS + Reality на базе Xray-core — без домена и сертификата.

[← Все скрипты](../README.ru.md)

## Что делает скрипт

1. Устанавливает Xray-core из официального репозитория
2. Генерирует ключи x25519, UUID и shortId
3. Создаёт конфигурацию VLESS + Reality (транспорт TCP или XHTTP)
4. Включает TCP BBR для повышения скорости
5. Устанавливает CLI-утилиты для управления пользователями
6. Выводит готовую ссылку для подключения с QR-кодом

## Требования

- **VPS** с Ubuntu 24 и root-доступом
- **Открытый порт** (443 по умолчанию)

Домен и SSL-сертификат не нужны — Reality использует TLS-фингерпринт существующих сайтов.

## Быстрый старт

```bash
bash <(curl -Ls https://raw.githubusercontent.com/opndoor-io/scripts/main/xray-reality/install.sh)
```

Скрипт спросит тип транспорта, порт, SNI и имя пользователя.

## Команды управления

После установки доступны команды:

| Команда | Описание |
|---------|----------|
| `xray-sharelink [имя]` | Ссылка для подключения + QR-код |
| `xray-adduser <имя>` | Добавить пользователя |
| `xray-rmuser <имя>` | Удалить пользователя |
| `xray-userlist` | Список пользователей |

## TCP vs XHTTP

| | TCP | XHTTP |
|---|-----|-------|
| Стабильность | Проверенный, широко используется | Новый, лучше для нестабильных сетей |
| Flow | `xtls-rprx-vision` | — |
| Мультиплексирование | Нет | Да |
| Рекомендация | Выбор по умолчанию | Для ограниченных сетей |

## Диагностика

Если что-то не работает — запустите скрипт диагностики:

```bash
bash <(curl -Ls https://raw.githubusercontent.com/opndoor-io/scripts/main/xray-reality/check.sh)
```

Проверяет бинарник xray, конфиг, systemd-сервис, порт, ключи, SNI и файрвол — ничего не меняет.

## Удаление

```bash
bash <(curl -Ls https://raw.githubusercontent.com/opndoor-io/scripts/main/xray-reality/uninstall.sh)
```

Требует ввода `yes` для подтверждения. Предлагает сохранить бэкап конфига.

## Лицензия

[MIT](../LICENSE)
